(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9121],{54615:function(e,t,a){Promise.resolve().then(a.bind(a,81619))},81619:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var s=a(57437),n=a(71606),l=a(53883),r=a(2265),i=a(16691),o=a.n(i),c=a(24930),d=a.n(c),x=a(96359);let u=e=>{let{wallet:t,price:a,quantity:n}=e;return(0,s.jsxs)("div",{className:"bg-[#333] rounded-lg px-2",children:[(0,s.jsx)("p",{className:"text-xs font-bold",children:" Wallet:"}),(0,s.jsx)("p",{className:"text-xs -mt-3",children:t}),(0,s.jsx)("p",{className:"text-xs font-bold",children:" Price:"}),(0,s.jsx)("p",{className:"text-xs -mt-3",children:a}),(0,s.jsx)("p",{className:"text-xs font-bold",children:" Quantity:"}),(0,s.jsx)("p",{className:"text-xs -mt-3",children:n})]})};var m=a(96990),p=a(98487);let h=[{id:1,latitude:-1,longitude:-1,address:"Rua piracanjuba, 240",maxVoltage:45,availablePlugs:"Tipo S2, BYD, BMW",meanPrice:30,batteryLevel:50,maxCapacity:100}];var f=e=>{let{isActive:t,children:n,setSelectedStation:l,selectedStation:i}=e,[c,f]=(0,r.useState)(h),{location:g,updateLocation:b}=(0,x.T)();(0,r.useEffect)(()=>{(0,m.Z)().then(e=>{console.log(e),f(e)})},[g]);let j=(0,r.useMemo)(()=>d()(()=>Promise.all([a.e(4212),a.e(7235),a.e(3276),a.e(480)]).then(a.bind(a,36553)),{loadableGenerated:{webpack:()=>[36553]},loading:()=>(0,s.jsx)("p",{children:"map is loading"}),ssr:!1}),[]),N=t?"":"blur-[6px] pointer-events-none",y=t?"bg-black":"bg-[#000]",[v,w]=(0,r.useState)("550px"),k="text-3xl ml-20 pt-4 font-bold";k+=t?"":" text-black";let S="text-xl font-medium pb-2 ml-20 ";return S+=t?"":" hidden",(0,r.useEffect)(()=>{t?w("550px"):w("0px")},[t]),(0,s.jsx)("div",{className:"p-4 px-8 rounded-3xl ".concat(y," transition"),children:(0,s.jsxs)("div",{className:"".concat(N," "),children:[(0,s.jsx)("p",{className:k,children:"#1 Step:"}),(0,s.jsx)("p",{className:S,children:"Select the station you want to sell your power to"}),(0,s.jsx)("div",{className:" mx-auto rounded-3xl mb-6",children:(0,s.jsx)(j,{roundedTopCorners:!0,roundedBottomCorners:!0,stations:c,center:g,userLocation:g,width:"95%",height:v,setSelectedStation:l,hidden:!t,buttonText:"Sell energy here"})}),(0,s.jsx)("div",{className:" w-full -mt-12 z-0 py-12 rounded-lg",children:(0,s.jsxs)("div",{className:"flex gap-x-5 w-full m-8 divide-x",children:[(0,s.jsxs)("div",{className:"w-[30%] text-lg ",children:[(0,s.jsx)("p",{className:"text-3xl text-[#37e231] font-bold",children:"Auction status"}),(0,s.jsx)("p",{children:i.address}),(0,s.jsxs)("div",{className:"flex gap-2 items-center my-4",children:[(0,s.jsx)(o(),{src:"./wallet.svg",alt:"ttt",width:40,height:40}),(0,s.jsxs)("p",{className:"font-bold",children:["Lowest price bid: ",(0,s.jsx)("span",{className:"font-normal",children:"  ---"})," "]})]}),(0,s.jsxs)("div",{className:"flex gap-2 items-center my-4",children:[(0,s.jsx)(o(),{src:"./capacity.svg",alt:"ttt",width:40,height:40}),(0,s.jsxs)("p",{className:"font-bold",children:["Energy amount offered: ",(0,s.jsx)("span",{className:"font-normal",children:i.batteryLevel&&(0,p.Z)(i.batteryLevel,i.maxCapacity).toFixed(0)||"  ---"})," "]})]}),(0,s.jsxs)("div",{className:"flex gap-2 items-center my-4",children:[(0,s.jsx)(o(),{src:"./pin.svg",alt:"ttt",width:40,height:40}),(0,s.jsxs)("p",{className:"font-bold",children:["Station address: ",(0,s.jsx)("span",{className:"font-normal",children:i.address||"  ---"})," "]})]})]}),(0,s.jsxs)("div",{className:"w-[70%] px-8",children:[(0,s.jsx)("p",{className:"text-3xl text-[#37e231] font-bold backdrop-blur-lg",children:"Last bids"}),(0,s.jsxs)("div",{className:"grid grid-cols-4 gap-3 w-[95%]",children:[(0,s.jsx)(u,{price:.5,wallet:"0x000000000000000000",quantity:10}),(0,s.jsx)(u,{price:.5,wallet:"0x000000000000000000",quantity:10}),(0,s.jsx)(u,{price:.5,wallet:"0x000000000000000000",quantity:10}),(0,s.jsx)(u,{price:.5,wallet:"0x000000000000000000",quantity:10})]})]})]})}),(0,s.jsx)("div",{className:"text-center mb-2",children:n})]})})};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,a(95380).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var b=a(56926),j=a(64623);let N=e=>{let{children:t,step:a,phrase:n,isActive:l}=e;return(0,s.jsx)("div",{className:"".concat(l?"w-full scale-[103%] ":"w-3/5 pointer-events-none "," ").concat(l?"bg-[#37e231]":"bg-[#3c3c3c]"," rounded-lg p-8 transition-all duration-500"),children:(0,s.jsxs)("div",{className:"".concat(l?"":"blur-[1px]"),children:[(0,s.jsxs)("p",{className:"text-4xl font-bold text-[#1e1e1e]",children:["#",a," Step"]}),(0,s.jsx)("p",{className:"text-[#1e1e1e]",children:n}),t]})})};var y=a(42706),v=a(97583),w=()=>{let[e,t]=(0,r.useState)(1),[a,i]=(0,r.useState)(0),[o,c]=(0,r.useState)(0),[d,u]=(0,r.useState)({id:0,x:0,y:0,address:"",maxVoltage:0,availablePlugs:"",availableEnergyPercentage:0}),{address:m}=(0,b.mA)(),p=(0,n.V)(["function withdraw(address)","function placeBid(string,address,string,string)","function rechargeBattery(string,address,string)","function batteryReport(string,string,string,string,string)"]),h=(0,l.R)({abi:p,functionName:"placeBid",args:[d.id.toString(),m||"0x455E5AA18469bC6ccEF49594645666C587A3a71B",o.toString(),a.toString()]}),{writeAsync:w,isLoading:k,isMining:S}=(0,v.u9)({contractName:"InputBox",functionName:"addInput",args:["0xa5cc3c03994DB5b0d9A5eEdD10CabaB0813678AC",h],blockConfirmations:1,onBlockConfirmation:e=>{console.log("Transaction blockHash",e.blockHash)}});(0,r.useEffect)(()=>{0!=d.id&&window.scrollBy({behavior:"smooth",top:450})},[d]);let C=()=>{window.scrollBy({behavior:"smooth",top:-550}),t(1)},B=()=>{window.scrollBy({behavior:"smooth",top:window.innerHeight}),t(2)},A=()=>{t(3)},E=()=>{t(4)};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(x.v,{children:[(0,s.jsx)(j.Z,{}),(0,s.jsxs)("div",{className:"flex flex-col mx-8 my-2",children:[(0,s.jsx)("h1",{className:"text-neutral text-5xl mb-4",children:"Sell your power"}),(0,s.jsx)(f,{selectedStation:d,setSelectedStation:u,isActive:1==e,children:(0,s.jsx)("button",{onClick:()=>B(),className:"bg-[#1c1c1c] text-xl px-8 py-6 mx-auto rounded-full text-white hover:bg-primary hover:text-black transition",children:"Continue with this station"})}),(0,s.jsxs)("div",{className:"flex gap-x-7 mb-40 rounded-md mt-8",children:[(0,s.jsxs)(N,{step:"2",phrase:"Set your price",isActive:2==e,children:[(0,s.jsx)("input",{type:"range",min:0,max:100,value:a,onChange:e=>i(parseInt(e.target.value)),className:"range"}),(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,s.jsx)("p",{className:"font-bold text-3xl text-[#1e1e1e]",children:a}),(0,s.jsx)("p",{className:"text-[#1e1e1e] text-md -m-3",children:"DVBrl/KWh"}),(0,s.jsx)("p",{className:"text-[#1e1e1e] text-sm",children:"*Competitive pricing attracts buyers, fostering a dynamic and fair exchange."})]}),(0,s.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,s.jsx)("button",{className:"rounded-full bg-[#1e1e1e] px-4 py-4",onClick:()=>C(),children:(0,s.jsx)(g,{size:30})}),(0,s.jsx)("button",{className:"rounded-full bg-[#1e1e1e] px-8 py-2",onClick:()=>A(),children:"Next step"})]})]}),(0,s.jsxs)(N,{step:"3",phrase:"Select the amount of power do you have avaliable to sell",isActive:3==e,children:[(0,s.jsxs)("label",{className:"input input-bordered flex items-center gap-2",children:[(0,s.jsx)("input",{type:"number",className:"grow bg-[#1e1e1e]",value:o,onChange:e=>c(parseInt(e.target.value)),placeholder:"Enter the desired amount"}),(0,s.jsx)("p",{className:"font-bold",children:"kWh"})]}),(0,s.jsxs)("div",{className:"flex justify-between mt-28",children:[(0,s.jsx)("button",{className:"rounded-full bg-[#1e1e1e] px-4 py-4",onClick:()=>t(2),children:(0,s.jsx)(g,{size:30})}),(0,s.jsx)("button",{onClick:()=>E(),className:"rounded-full bg-[#1e1e1e] px-8 py-2",children:"Sell energy power"})]})]})]})]}),(0,s.jsx)(y.Vq,{open:4==e,children:(0,s.jsxs)(y.cZ,{className:"bg-[#1a1a1a] border-none shadow-lg",children:[(0,s.jsx)(y.$N,{className:"text-3xl flex text-white pb-2 gap-3",children:" Review you bid:"}),(0,s.jsxs)(y.Be,{className:"leading-[1px] text-center",children:[(0,s.jsx)("p",{className:"text-xl font-semibold",children:"Selected Station:"}),(0,s.jsx)("p",{children:d.address}),(0,s.jsx)("p",{className:"pt-6 text-xl font-semibold",children:"Price for each Kw:"}),(0,s.jsxs)("p",{children:[a," Voltz/Kw"]}),(0,s.jsx)("p",{className:"pt-6 text-xl font-semibold",children:"Amount of Kw you are selling:"}),(0,s.jsxs)("p",{children:[o," Kws"]})]}),(0,s.jsx)("p",{className:" text-center text-[#ccc] ",children:"after the auction is finished, you have 24 hours to recharge the chosen station."}),(0,s.jsx)("button",{onClick:()=>{console.log({id:d.id,price:a,amount:o,user:m}),w()},className:"bg-primary text-black font-semibold px-4 py-2 rounded-lg hover:scale-105 transition",children:"Place Bid"}),(0,s.jsx)("button",{onClick:C,className:"bg-[#444] text-white px-4 py-2 rounded-lg hover:scale-105 transition",children:"Go back"})]})})]})})}},64623:function(e,t,a){"use strict";var s=a(57437),n=a(2265),l=a(50439),r=a(98395),i=a(42706),o=a(96359);t.Z=()=>{let e=(0,l.ZZ)(),{location:t,updateLocation:a}=(0,o.T)(),[c,d]=(0,n.useState)([0,0]),[x,u]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{e.latitude&&e.longitude?(console.log("okay"),u(!1),a(e.latitude,e.longitude)):c[0]&&c[1]?(u(!1),a(c[0],c[1])):u(!0)},[e,c]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.Vq,{open:x,children:(0,s.jsxs)(i.cZ,{className:"bg-[#1a1a1a] border-none shadow-lg",children:[(0,s.jsxs)(i.$N,{className:"text-3xl flex text-white pb-2 gap-3",children:[(0,s.jsx)(r.Z,{color:"#0f0",size:37})," Allow access to your location"]}),(0,s.jsx)(i.Be,{children:"Don't worry, we won't store your location data. We only need to know your location to show you the nearest chargers."}),(0,s.jsx)("button",{onClick:()=>{d([-22.980214,-43.217508])},className:"bg-[#333] text-[#999] font-semibold px-4 py-2 rounded-lg hover:scale-105 transition",children:"I don't care, use a sample location"})]})})})}},42706:function(e,t,a){"use strict";a.d(t,{$N:function(){return x},Be:function(){return u},Vq:function(){return i},cZ:function(){return d}});var s=a(57437),n=a(2265),l=a(38085),r=a(5354);let i=l.fC;l.xz;let o=l.h_;l.x8;let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(l.aV,{ref:t,className:(0,r.cn)("fixed inset-0 z-[999] bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});c.displayName=l.aV.displayName;let d=n.forwardRef((e,t)=>{let{className:a,children:n,...i}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(c,{}),(0,s.jsx)(l.VY,{ref:t,className:(0,r.cn)("fixed left-[50%] top-[50%] z-[1000] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i,children:n})]})});d.displayName=l.VY.displayName;let x=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(l.Dx,{ref:t,className:(0,r.cn)("text-lg font-semibold leading-none tracking-tight",a),...n})});x.displayName=l.Dx.displayName;let u=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(l.dk,{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",a),...n})});u.displayName=l.dk.displayName},96359:function(e,t,a){"use strict";a.d(t,{T:function(){return i},v:function(){return r}});var s=a(57437),n=a(2265);let l=(0,n.createContext)(void 0),r=e=>{let{children:t}=e,[a,r]=(0,n.useState)([-22.951669,-43.211247]);return(0,s.jsx)(l.Provider,{value:{location:a,updateLocation:(e,t)=>{r([e,t])}},children:t})},i=()=>{let e=(0,n.useContext)(l);if(void 0===e)throw Error("useLocation must be used within a LocationProvider");return e}},98487:function(e,t,a){"use strict";function s(e,t){return e/t*100}a.d(t,{Z:function(){return s}})},96990:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var s=a(92173),n=a(30838);async function l(){let e=await s.Z.get("https://495b-177-92-77-170.ngrok-free.app/inspect/stations",{headers:{"ngrok-skip-browser-warning":"yes"}});return console.log("aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"),JSON.parse((0,n.rR)(e.data.reports[0].payload)).stations}},5354:function(e,t,a){"use strict";a.d(t,{cn:function(){return l}});var s=a(57042),n=a(74769);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,s.W)(t))}}},function(e){e.O(0,[7133,371,7371,2173,4769,6292,6691,1383,2971,4938,1744],function(){return e(e.s=54615)}),_N_E=e.O()}]);