(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8790],{21906:function(e,t,a){Promise.resolve().then(a.bind(a,38452))},38452:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var s=a(57437),n=a(2265),l=a(71606),r=a(53883),o=a(97583);let i=e=>{let{averagePrice:t,value:a,setValue:n,children:l}=e;return(0,s.jsxs)("div",{className:"w-[90%] bg-[#3c3c3c] h-full rounded-xl py-4 px-8",children:[(0,s.jsx)("p",{className:"text-2xl font-bold",children:"Buy Energy"}),(0,s.jsx)("p",{children:"Amount of energy:"}),(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,s.jsx)("input",{type:"range",min:0,max:100,value:a,onChange:e=>{n(Number(e.target.value))},className:"range px-2"}),(0,s.jsx)("p",{className:"font-bold text-2xl px-2",children:a}),(0,s.jsx)("p",{className:"text-sm -m-3 px-2",children:"DVBrl/KWh"})]}),(0,s.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,s.jsxs)("p",{className:"font-bold text-xl",children:["Total to be paid: ",a*t]}),l]})]})};var d=a(64623),c=a(24930),u=a.n(c),x=a(96359),h=a(96990);let m=e=>{let{roundedTopCorners:t,roundedBottomCorners:l,stations:r,setStations:o,width:i,setSelectedStation:d}=e,{location:c,updateLocation:m}=(0,x.T)();(0,n.useEffect)(()=>{(0,h.Z)().then(e=>{o(e)})},[c]);let p=(0,n.useMemo)(()=>u()(()=>Promise.all([a.e(4212),a.e(7235),a.e(3276),a.e(480)]).then(a.bind(a,36553)),{loadableGenerated:{webpack:()=>[36553]},loading:()=>(0,s.jsx)("p",{children:"map is loading"}),ssr:!1}),[]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-3xl ml-8 pt-4 font-bold",children:"Charger points:"}),(0,s.jsx)("p",{className:"text-xl font-medium pb-2 ml-8",children:"Select the station you want to buy your power"}),(0,s.jsx)("div",{className:"md:col-span-5 md:row-span-1 mx-auto md:col-start-1 md:row-start-3 rounded-3xl mb-6",children:(0,s.jsx)(p,{buttonText:"Select",userLocation:c,roundedTopCorners:t,roundedBottomCorners:l,stations:r,center:c,width:i,setSelectedStation:d})})]})};var p=a(16691),f=a.n(p),g=a(98487);let b=e=>{let{selectedStation:t}=e;return(0,n.useEffect)(()=>{console.log(t)},[t]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-3xl text-[#37e231] font-bold",children:"Station"}),(0,s.jsxs)("div",{className:"flex gap-2 items-center my-4",children:[(0,s.jsx)(f(),{src:"./pin.svg",alt:"ttt",width:40,height:40}),(0,s.jsx)("p",{className:"font-bold",children:"Address"}),(0,s.jsx)("span",{children:t.address||"-"})]}),(0,s.jsxs)("div",{className:"flex gap-2 items-center my-4",children:[(0,s.jsx)(f(),{src:"./charger.svg",alt:"ttt",width:40,height:40}),(0,s.jsx)("b",{children:"Compatibility"}),(0,s.jsx)("span",{children:"BYD, EC20 and Volvo Plugs"})]}),(0,s.jsxs)("div",{className:"flex gap-2 items-center my-4",children:[(0,s.jsx)(f(),{src:"./wallet.svg",alt:"ttt",width:40,height:40}),(0,s.jsx)("b",{children:"Price per Kw (Voltz)"}),(0,s.jsx)("span",{children:t.meanPrice||"---"})]}),(0,s.jsxs)("div",{className:"flex gap-2 items-center my-4",children:[(0,s.jsx)(f(),{src:"./capacity.svg",alt:"ttt",width:40,height:40}),(0,s.jsx)("p",{className:"font-bold",children:"Capacity"}),(0,s.jsx)("span",{children:t.batteryLevel&&(0,g.Z)(t.batteryLevel,t.maxCapacity).toFixed(0)||"---"}),(0,s.jsx)("span",{children:"%"})]})]})};var j=a(42706),y=()=>{let[e,t]=(0,n.useState)(0),a=(0,l.V)(["function withdraw(address)","function placeBid(string,address,string,string)","function rechargeBattery(string,address,string)","function batteryReport(string,string,string,string,string)"]),c=(0,r.R)({abi:a,functionName:"placeBid",args:["id","0x59b22D57D4f067708AB0c00552767405926dc768","10","10"]}),{writeAsync:u,isLoading:h,isMining:p}=(0,o.u9)({contractName:"InputBox",functionName:"addInput",args:["0xa5cc3c03994DB5b0d9A5eEdD10CabaB0813678AC",c],blockConfirmations:1,onBlockConfirmation:e=>{console.log("Transaction blockHash",e.blockHash)}}),[f,g]=(0,n.useState)({id:0,latitude:0,longitude:0,address:"",maxVoltage:0,availablePlugs:"",batteryLevel:0,maxCapacity:0,meanPrice:0}),[y,N]=(0,n.useState)([]),[w,v]=(0,n.useState)(0),[k,C]=(0,n.useState)(""),[S,B]=(0,n.useState)(""),[V,Z]=(0,n.useState)(0),[P,D]=(0,n.useState)(0),[E,T]=(0,n.useState)(!1),[z,A]=(0,n.useState)("disabled bg-[#7c7c7c] pointer-events-none"),[K,R]=(0,n.useState)(!0);return(0,s.jsxs)(x.v,{children:[(0,s.jsx)(j.Vq,{open:K,children:(0,s.jsxs)(j.cZ,{className:"bg-[#1a1a1a] border-none shadow-lg",children:[(0,s.jsx)(j.$N,{className:"text-3xl flex text-white pb-2 gap-3",children:" Warning: Metaverse ahead!"}),(0,s.jsx)("p",{className:"font-semibold",children:"In the real world, drivers shouldn't need to buy their gas (or energy) on a website before filling their tank up. This also apply to DeVolt, obviously."}),(0,s.jsx)("p",{className:"",children:"Keep in mind that this page only simulates what a driver would do in a charge station. In the real scenario, the driver would just pull up to the station, plug their car in, connect his/her wallet and choose the amount of energy to buy."}),(0,s.jsx)("button",{onClick:()=>R(!1),className:"bg-primary text-black font-semibold px-4 py-2 rounded-lg hover:scale-105 transition",children:"Got it!"})]})}),(0,s.jsx)(d.Z,{}),(0,s.jsxs)("div",{className:"flex flex-col mx-8 my-2",children:[(0,s.jsx)("h1",{className:"text-neutral text-5xl my-8",children:"Choose your charger point"}),(0,s.jsxs)("div",{className:"p-4 px-8 rounded-3xl bg-black",children:[(0,s.jsx)(m,{roundedTopCorners:!0,roundedBottomCorners:!0,stations:y,setStations:N,width:"95%",setSelectedStation:g}),(0,s.jsx)("div",{className:"bg-[#010101] w-full -mt-12 z-0 ml-8 py-8 rounded-lg",children:(0,s.jsxs)("div",{className:"flex gap-x-5 w-full my-4 mx-8 divide-x",children:[(0,s.jsx)("div",{className:"w-[30%]",children:(0,s.jsx)(b,{selectedStation:f})}),(0,s.jsx)("div",{className:"w-[70%] pl-12",children:(0,s.jsx)(i,{value:w,setValue:v,averagePrice:V,children:(0,s.jsx)("button",{onClick:()=>T(!0),className:"rounded-full px-8 py-2 text-[#1e1e1e] font-bold hover:scale-95 duration-100 ".concat(z),children:"Buy energy"})})})]})}),(0,s.jsx)(j.Vq,{open:E,children:(0,s.jsxs)(j.cZ,{className:"bg-[#1a1a1a] border-none shadow-lg",children:[(0,s.jsx)(j.$N,{className:"text-3xl flex text-white pb-2 gap-3",children:" Review you purchase:"}),(0,s.jsxs)(j.Be,{className:"leading-[1px] text-center",children:[(0,s.jsx)("p",{className:"text-xl font-semibold",children:"Selected Station:"}),(0,s.jsx)("p",{className:"text-xl font-semibold",children:"Address:"}),(0,s.jsx)("p",{children:k}),(0,s.jsx)("p",{className:"pt-6 text-xl font-semibold",children:"Price for each Kw:"}),(0,s.jsxs)("p",{children:[V," Voltz/Kw"]}),(0,s.jsx)("p",{className:"pt-6 text-xl font-semibold",children:"Amount of Kw you are buying:"}),(0,s.jsxs)("p",{children:[w," Kws"]}),(0,s.jsx)("p",{className:"pt-6 text-xl font-semibold",children:"Total to be paid:"}),(0,s.jsxs)("p",{children:[w*V," Kws"]})]}),(0,s.jsx)("button",{className:"bg-primary text-black font-semibold px-4 py-2 rounded-lg hover:scale-105 transition",children:"Place Bid"}),(0,s.jsx)("button",{onClick:()=>{T(!1)},className:"bg-[#444] text-white px-4 py-2 rounded-lg hover:scale-105 transition",children:"Go back"})]})})]}),(0,s.jsx)("button",{onClick:()=>{u()},className:"bg-[#444] text-white px-4 py-2 rounded-lg hover:scale-105 transition",children:"Go back"})]})]})}},64623:function(e,t,a){"use strict";var s=a(57437),n=a(2265),l=a(50439),r=a(98395),o=a(42706),i=a(96359);t.Z=()=>{let e=(0,l.ZZ)(),{location:t,updateLocation:a}=(0,i.T)(),[d,c]=(0,n.useState)([0,0]),[u,x]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{e.latitude&&e.longitude?(console.log("okay"),x(!1),a(e.latitude,e.longitude)):d[0]&&d[1]?(x(!1),a(d[0],d[1])):x(!0)},[e,d]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(o.Vq,{open:u,children:(0,s.jsxs)(o.cZ,{className:"bg-[#1a1a1a] border-none shadow-lg",children:[(0,s.jsxs)(o.$N,{className:"text-3xl flex text-white pb-2 gap-3",children:[(0,s.jsx)(r.Z,{color:"#0f0",size:37})," Allow access to your location"]}),(0,s.jsx)(o.Be,{children:"Don't worry, we won't store your location data. We only need to know your location to show you the nearest chargers."}),(0,s.jsx)("button",{onClick:()=>{c([-22.980214,-43.217508])},className:"bg-[#333] text-[#999] font-semibold px-4 py-2 rounded-lg hover:scale-105 transition",children:"I don't care, use a sample location"})]})})})}},42706:function(e,t,a){"use strict";a.d(t,{$N:function(){return u},Be:function(){return x},Vq:function(){return o},cZ:function(){return c}});var s=a(57437),n=a(2265),l=a(38085),r=a(5354);let o=l.fC;l.xz;let i=l.h_;l.x8;let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(l.aV,{ref:t,className:(0,r.cn)("fixed inset-0 z-[999] bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});d.displayName=l.aV.displayName;let c=n.forwardRef((e,t)=>{let{className:a,children:n,...o}=e;return(0,s.jsxs)(i,{children:[(0,s.jsx)(d,{}),(0,s.jsx)(l.VY,{ref:t,className:(0,r.cn)("fixed left-[50%] top-[50%] z-[1000] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...o,children:n})]})});c.displayName=l.VY.displayName;let u=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(l.Dx,{ref:t,className:(0,r.cn)("text-lg font-semibold leading-none tracking-tight",a),...n})});u.displayName=l.Dx.displayName;let x=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(l.dk,{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",a),...n})});x.displayName=l.dk.displayName},96359:function(e,t,a){"use strict";a.d(t,{T:function(){return o},v:function(){return r}});var s=a(57437),n=a(2265);let l=(0,n.createContext)(void 0),r=e=>{let{children:t}=e,[a,r]=(0,n.useState)([-22.951669,-43.211247]);return(0,s.jsx)(l.Provider,{value:{location:a,updateLocation:(e,t)=>{r([e,t])}},children:t})},o=()=>{let e=(0,n.useContext)(l);if(void 0===e)throw Error("useLocation must be used within a LocationProvider");return e}},98487:function(e,t,a){"use strict";function s(e,t){return e/t*100}a.d(t,{Z:function(){return s}})},96990:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var s=a(92173),n=a(30838);async function l(){let e=await s.Z.get("https://495b-177-92-77-170.ngrok-free.app/inspect/stations",{headers:{"ngrok-skip-browser-warning":"yes"}});return console.log("aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"),JSON.parse((0,n.rR)(e.data.reports[0].payload)).stations}},5354:function(e,t,a){"use strict";a.d(t,{cn:function(){return l}});var s=a(57042),n=a(74769);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,s.W)(t))}}},function(e){e.O(0,[7133,371,7371,2173,4769,6292,6691,1383,2971,4938,1744],function(){return e(e.s=21906)}),_N_E=e.O()}]);